!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.dt=a()}}(function(){var a;return function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";c.data=a("./data/__module__"),c.smooth=a("./smooth/__module__"),c.io=a("./io/__module__"),c.table=a("./table/__module__")},{"./data/__module__":7,"./io/__module__":11,"./smooth/__module__":14,"./table/__module__":18}],2:[function(a,b,c){"use strict";var d=a("underscore"),e=a("./util"),f=function(){function a(a){this.map={},a?this.useIdentity=!0:this.useIdentity=!1}return a.prototype.set=function(a,b){var c=this.getBucket(a),d=this.findKeyInBucket(a,c);d>=0?c[d][1]=b:c.push([a,b])},a.prototype.get=function(a){var b=this.getBucket(a),c=this.findKeyInBucket(a,b);return c>=0?b[c][1]:null},a.prototype.contains=function(a){var b=this.getBucket(a);return this.findKeyInBucket(a,b)>=0},a.prototype.keys=function(){var a=[];for(var b in this.map)for(var c=this.map[b],d=0;d<c.length;++d)a.push(c[d][0]);return a},a.prototype.getBucket=function(a){var b=e.util.hashCode(a);return b in this.map||(this.map[b]=[]),this.map[b]},a.prototype.findKeyInBucket=function(a,b){for(var c=0;c<b.length;++c)if(this.isEqual(a,b[c][0]))return c;return-1},a.prototype.isEqual=function(a,b){return this.useIdentity?a===b:d.isEqual(a,b)},a}();c.HashMap=f},{"./util":9,underscore:21}],3:[function(a,b,c){"use strict";var d=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},e=a("./Set"),f=function(a){function b(){a.apply(this,arguments)}return d(b,a),b.prototype.add=function(a){var b=this.binarySearch(a,0,this.array.length);-1===b[0]&&this.array.splice(b[1],0,a)},b.prototype.difference=function(a){for(var c=new b(this),d=0;d<a.size();++d)c.remove(a.get(d));return c},b.prototype.indexOf=function(a){return this.binarySearch(a,0,this.array.length)[0]},b.prototype.intersection=function(a){for(var c=new b,d=0;d<this.size();++d)a.contains(this.array[d])&&c.add(this.array[d]);return c},b.prototype.union=function(a){for(var c=new b(this),d=0;d<a.size();++d)c.add(a.get(d));return c},b.prototype.binarySearch=function(a,b,c){if(b>c)return[-1,b];var d=Math.floor((b+c)/2);return this.array[d]===a?[d,d]:this.array[d]<a?this.binarySearch(a,d+1,c):this.binarySearch(a,b,d-1)},b}(e.Set);c.OrderedSet=f},{"./Set":4}],4:[function(a,b,c){"use strict";var d=function(){function a(a){this.IS_SET=!0;var b;if(this.array=[],a instanceof Array)for(b=0;b<a.length;++b)this.add(a[b]);else if(a&&a.IS_SET){var c=a;for(b=0;b<c.size();++b)this.add(c.get(b))}}return a.prototype.add=function(a){-1===this.array.indexOf(a)&&this.array.push(a)},a.prototype.clear=function(){this.array=[]},a.prototype.contains=function(a){return this.array.indexOf(a)>=0},a.prototype.difference=function(b){for(var c=new a(this),d=0;d<b.size();++d)c.remove(b.get(d));return c},a.prototype.get=function(a){return"undefined"==typeof a?this.array:this.array[a]},a.prototype.indexOf=function(a){return this.array.indexOf(a)},a.prototype.intersection=function(b){for(var c=new a,d=0;d<this.size();++d)b.contains(this.array[d])&&c.add(this.array[d]);return c},a.prototype.isDisjoint=function(a){for(var b=0;b<this.size();++b)if(a.contains(this.array[b]))return!1;return!0},a.prototype.isEqual=function(a){return this.isSubset(a)&&this.isSuperset(a)},a.prototype.isSubset=function(a){for(var b=0;b<this.size();++b)if(!a.contains(this.array[b]))return!1;return!0},a.prototype.isSuperset=function(a){return a.isSubset(this)},a.prototype.pop=function(){if(this.size()>0){var a=this.array[0];return this.remove(a),a}},a.prototype.remove=function(a){var b=this.indexOf(a);b>=0&&this.array.splice(b,1)},a.prototype.size=function(){return this.array.length},a.prototype.union=function(b){for(var c=new a(this),d=0;d<b.size();++d)c.add(b.get(d));return c},a}();c.Set=d},{}],5:[function(a,b,c){"use strict";var d=function(){function a(a,b){void 0===a&&(a="any"),this.type=a,b?this.data=b:this.data=[]}return a.prototype.add=function(a){return this.data.push(a),!0},a.prototype.size=function(){return this.data.length},a.prototype.get=function(a){return this.data[a]},a.prototype.getData=function(){return this.data},a}();c.Vector=d},{}],6:[function(a,b,c){"use strict";var d,e=a("underscore"),f=a("./types");!function(a){function b(a,b){var c=a.length;if(0===c)return null;for(var d=[a[0],a[0]],e=1;c>e;++e){var f=a[e];f<d[0]&&(d[0]=f),f>d[1]&&(d[1]=f)}return d}function c(a){return b(a)[0]}function d(a){return b(a)[1]}function g(a,b,c){void 0===b&&(b=!0),void 0===c&&(c=!1);for(var d=[],e=0;e<a.length;++e){var g=a[e],h=f.types.detectDataType(g,b);h.type!==f.types.kNull&&(-1===d.indexOf(h.type)&&d.push(h.type),c&&(a[e]=h.value))}return 0===d.length?f.types.kNull:1===d.length?d[0]:"any"}function h(a,b){var c=e.map(a,function(a,c){return f.types.convert(a,b)});return c}function i(a){for(var b={},c=0;c<a.length;++c){var d=a[c];d in b?b[d].push(c):b[d]=[c]}return b}function j(a){for(var b=[],c=0;c<a.length;++c)-1===b.indexOf(a[c])&&b.push(a[c]);return b}a.range=b,a.min=c,a.max=d,a.detectDataType=g,a.convertToType=h,a.groupByPositions=i,a.distinctValues=j}(d=c.vec||(c.vec={}))},{"./types":8,underscore:21}],7:[function(a,b,c){"use strict";var d=a("./VectorOperations");c.vec=d.vec;var e=a("./types");c.types=e.types;var f=a("./util");c.util=f.util;var g=a("./Set");c.Set=g.Set;var h=a("./OrderedSet");c.OrderedSet=h.OrderedSet;var i=a("./HashMap");c.HashMap=i.HashMap;var j=a("./Vector");c.Vector=j.Vector},{"./HashMap":2,"./OrderedSet":3,"./Set":4,"./Vector":5,"./VectorOperations":6,"./types":8,"./util":9}],8:[function(a,b,c){"use strict";var d;!function(a){function b(a,b){a in g||(g[a]=[]),g[a].push(b)}function c(a,b){var c=typeof a;return c===b?a:"any"===b?a:"string"===c?e(a,b):"number"===c&&"string"===b?""+a:"object"===c&&"date"===b&&a instanceof Date?a:void 0}function d(b,c){void 0===c&&(c=!0);var d=typeof b;if(null===b||void 0===b)return{type:a.kNull,value:null};if("number"===d)return{type:a.kNumber,value:b};if("boolean"===d)return{type:a.kBoolean,value:b};if("function"===d)return{type:a.kFunction,value:b};if("string"===d&&!c)return{type:a.kString,value:b};if("object"===d)return b instanceof Date?{type:a.kDate,value:b}:{type:a.kObject,value:b};if("string"===d&&c)return f(b);throw"Unable to detect data type!"}function e(a,b){if(b in g)for(var c=0;c<g[b].length;++c){var d=g[b][c];if(d.regex){var e=d.regex.exec(a);if(null!==e){var f=d.format(e);return f}}else if(d.matchAndFormat){var h=d.matchAndFormat(a);if(h!==!1)return h}}}function f(a){for(var b in g){var c=e(a,b);if(void 0!==c)return{type:b,value:c}}return{type:"string",value:a}}a.kAny="any",a.kString="string",a.kNumber="number",a.kDate="date",a.kObject="object",a.kBoolean="boolean",a.kNull="null",a.kFunction="function";var g={};a.registerTypeDetector=b,a.convert=c,a.detectDataType=d,a.convertString=e,a.detectDataTypeOfString=f}(d=c.types||(c.types={})),d.registerTypeDetector("date",{regex:/^([0-9]?[0-9])\.([0-9]?[0-9])\.([0-9][0-9][0-9][0-9])$/,format:function(a){var b=parseInt(a[2],10)-1;return new Date(Date.UTC(parseInt(a[3],10),b,parseInt(a[1],10)))}}),d.registerTypeDetector("date",{regex:/^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$/,format:function(a){var b=parseInt(a[2],10)-1;return new Date(Date.UTC(parseInt(a[1],10),b,parseInt(a[3],10)))}}),d.registerTypeDetector("date",{regex:/^([0-9]?[0-9])\/([0-9]?[0-9])\/([0-9][0-9][0-9][0-9])$/,format:function(a){var b=parseInt(a[1],10)-1;return new Date(Date.UTC(parseInt(a[3],10),b,parseInt(a[2],10)))}}),d.registerTypeDetector("date",{matchAndFormat:function(a){if(/^([0-9][0-9][0-9][0-9])\-([0-9][0-9])\-([0-9][0-9])/.exec(a)){var b=new Date(a);if(!isNaN(b.getTime()))return b}return!1}}),d.registerTypeDetector("number",{regex:/^\s*-?[0-9]+(?:\,[0-9][0-9][0-9])*(?:\.[0-9]+)?\s*$/,format:function(a){return parseFloat(a[0].replace(",",""))}}),d.registerTypeDetector("number",{regex:/^\s*-?[0-9]+(?:\.[0-9][0-9][0-9])*(?:\,[0-9]+)?\s*$/,format:function(a){return parseFloat(a[0].replace(".","").replace(",","."))}}),d.registerTypeDetector("boolean",{regex:/^[Ff][Aa][Ll][Ss][Ee]$/,format:function(a){return!1}}),d.registerTypeDetector("boolean",{regex:/^[Tt][Rr][Uu][Ee]$/,format:function(a){return!0}})},{}],9:[function(a,b,c){"use strict";var d;!function(a){function b(a){for(var b=((0>a?8:0)+(a>>28&7)).toString(16)+(268435455&a).toString(16);b.length<8;)b="0"+b;return b}function c(a,c){function d(a){var b,c;if(null===a)return"n";if(a===!0)return"t";if(a===!1)return"f";if(a instanceof Date)return"d:"+(0+a);if(b=typeof a,"string"===b)return"s:"+a.replace(/([\\\\;])/g,"\\$1");if("number"===b)return"n:"+a;if(a instanceof Function)return"m:"+a.toString().replace(/([\\\\;])/g,"\\$1");if(a instanceof Array){for(c=[],b=0;b<a.length;b++)c.push(d(a[b]));return"a:"+c.join(";")}c=[];for(b in a)c.push(b+":"+d(a[b]));return"o:"+c.join(";")}c=c||2;var e,f,g=[];for(e=0;c>e;e++)g.push(268803292*e);for(a=d(a),e=0;e<a.length;e++)for(f=0;f<g.length;f++)g[f]=(g[f]<<13)-(g[f]>>19),g[f]+=a.charCodeAt(e)<<g[f]%24,g[f]=g[f]&g[f];for(e=0;e<g.length;e++)g[e]=b(g[e]);return g.join("")}a.toHex=b,a.hashCode=c}(d=c.util||(c.util={}))},{}],10:[function(a,b,c){"use strict";var d=a("../table/CoreColumnTable"),e=a("papaparse"),f=function(){function a(a){a||(a={}),"undefined"==typeof a.header&&(a.header=!0),"undefined"==typeof a.skipEmptyLines&&(a.skipEmptyLines=!0),this.options=a}return a.prototype.parseString=function(a){var b=e.parse(a,this.options),c=b.data.length,f=[],g=[];if(b.meta.fields){f=b.meta.fields;for(var h=0;h<f.length;++h){for(var i=[],j=0;c>j;++j)i.push(b.data[j][f[h]]);g.push(i)}}else{for(var k=0,j=0;c>j;++j)k=Math.max(k,b.data[j].length);for(var h=0;k>h;++h)f.push("Column "+(h+1));for(var h=0;k>h;++h){for(var i=[],j=0;c>j;++j)i.push(b.data[j][h]);g.push(i)}}var l=new d.CoreColumnTable({fields:f,columns:g});return l.detectTypes(!0),l},a.prototype.dumpString=function(a){var b="";b+=a.fields().join(this.options.delimiter),b+="\n";for(var c=0;c<a.size()-1;++c){var d=a.row(c);b+=d.join(this.options.delimiter),b+="\n"}return b+=a.row(a.size()-1).join(this.options.delimiter)},a}();c.CSVParser=f},{"../table/CoreColumnTable":16,papaparse:20}],11:[function(a,b,c){"use strict";var d=a("./CSVParser");c.CSVParser=d.CSVParser},{"./CSVParser":10}],12:[function(a,b,c){"use strict";var d;!function(a){function b(a,b){if(!a||"undefined"==typeof b)throw"Not enough parameters given!";if(0>b||b>1)throw"Alpha has to be in [0,1]!";var c=[];c.push(a[0]);for(var d=1;d<a.length;++d){var e=b*a[d]+(1-b)*c[d-1];c.push(e)}return c}function c(a,b,c){if(!a||!b)return null;var d=[],e=[];d.push(a[0]),e.push(a[1]-a[0]);for(var f=1;f<a.length;++f){var g=b*a[f]+(1-b)*(d[f-1]+e[f-1]);d.push(g);var h=c*(d[f]-d[f-1])+(1-c)*e[f-1];e.push(h)}return d}a.SingleExponentialSmoothing=b,a.DoubleExponentialSmoothing=c}(d=c.es||(c.es={}))},{}],13:[function(a,b,c){"use strict";var d;!function(a){function b(a,b){for(var c=[],d=0;b>d&&d<a.length;++d){for(var e=0,f=d;f>=0;--f)e+=a[f];c.push(e/(d+1))}for(var d=b;d<a.length;++d){for(var e=0,f=d;f>d-b;--f)e+=a[f];c.push(e/b)}return c}a.SimpleMovingAverage=b}(d=c.ma||(c.ma={}))},{}],14:[function(a,b,c){"use strict";var d=a("./MovingAverage");c.ma=d.ma;var e=a("./ExponentialSmoothing");c.es=e.es},{"./ExponentialSmoothing":12,"./MovingAverage":13}],15:[function(a,b,c){"use strict";function d(a){for(var b=[],c=0;c<a.length;++c)b.push(e(a[c]));return b}function e(a){return"string"==typeof a?new h.FieldDescriptor(a):a}var f=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},g=a("./CoreColumnTable"),h=a("./FieldDescriptor"),i=a("../data/OrderedSet"),j=a("../data/HashMap"),k=a("../data/VectorOperations"),l=a("./operators/agg"),m=function(a){function b(){a.apply(this,arguments),this.agg=l.agg}return f(b,a),b.prototype.groupBy=function(a,c){if(c||(c=[]),!(a instanceof Array))return this.groupBy([a],c);for(var e=d(a),f=[],g=0;g<e.length;++g)f.push(e[g].outputName);for(var h=0;h<c.length;++h)c[h].aggName?f.push(c[h].aggName):c[h].name?f.push(c[h].name):f.push("Aggregation "+h);for(var i=new j.HashMap(!1),k=0;k<this.size();++k){for(var l=[],m=0;m<e.length;++m)l.push(e[m].getValue(this,k));i.contains(l)?i.get(l).push(this.row(k)):i.set(l,[this.row(k)])}for(var n=new b({fields:f}),o=i.keys(),h=0;h<o.length;++h){for(var p=[],m=0;m<o[h].length;++m)p.push(o[h][m]);for(var q=0;q<c.length;++q)p.push(c[q](i.get(o[h]),this));n.addRow(p)}return n},b.prototype.filter=function(a){for(var c=new b({fields:this._fields.get(),types:this._types.slice()}),d=0;d<this.size();++d){var e=this.row(d);a(e)&&c.addRow(e)}return c},b.prototype.distinctValues=function(a){return new i.OrderedSet(this.column(a))},b.prototype.select=function(a){if(!(a instanceof Array))return this.select([a]);for(var c=d(a),e=[],f=[],g=[],h=0;h<c.length;++h){var i=c[h];if(i.isStatic)e.push(this.column(i.name).slice()),g.push(this.type(i.name)),f.push(i.outputName);else{f.push(i.outputName);for(var j=[],l=0;l<this.size();++l){var m=i.getValue(this,l);j.push(m)}g.push(k.vec.detectDataType(j)),e.push(j)}}return new b({fields:f,types:g,columns:e})},b.prototype.splitColumn=function(a,c){for(var d=this.distinctValues(a).get(),e=[c],f=[this.type(c)],g=[],h=0;h<this.numFields();++h)this._fields.get(h)!==a&&this._fields.get(h)!==c&&g.push(this._fields.get(h));for(var i=0;i<d.length;++i)for(var k=0;k<g.length;++k){var l=g[k]+" ("+d[i]+")";e.push(l),f.push(this.type(g[k]))}for(var m=new j.HashMap(!1),n=0;n<this.size();++n){var o=this.value(n,c);m.contains(o)||m.set(o,{});var p=this.value(n,a),q=m.get(o);q[p]=[];for(var k=0;k<g.length;++k)q[p].push(this.value(n,g[k]))}for(var r=new b({fields:e,types:f}),s=m.keys(),t=0;t<s.length;++t){for(var q=m.get(s[t]),u=[s[t]],h=0;h<d.length;++h)if(d[h]in q)for(var v=q[d[h]],k=0;k<g.length;++k)u.push(v[k]);else for(var k=0;k<g.length;++k)u.push(null);r.addRow(u)}return r},b.prototype.sort=function(a,c){void 0===c&&(c=!1);var d=e(a),f=new b({fields:this.fields(),types:this.types()}),g=this.rows(),h=this.mergeSort(g,d,c);return f.addRows(h),f},b.prototype.mergeSort=function(a,b,c){if(a.length<2)return a;var d=Math.floor(a.length/2),e=a.slice(0,d),f=a.slice(d);return this.merge(this.mergeSort(e,b,c),this.mergeSort(f,b,c),b,c)},b.prototype.merge=function(a,b,c,d){for(var e=[],f=0,g=0;f<a.length&&g<b.length;){var h=c.getValueFromRow(this,a[f]),i=c.getValueFromRow(this,b[g]),j=!1;j=d?i>h:h>i,j?e.push(a[f++]):e.push(b[g++])}return e.concat(a.slice(f)).concat(b.slice(g))},b}(g.CoreColumnTable);c.AnalyticsTable=m},{"../data/HashMap":2,"../data/OrderedSet":3,"../data/VectorOperations":6,"./CoreColumnTable":16,"./FieldDescriptor":17,"./operators/agg":19}],16:[function(a,b,c){"use strict";var d=a("underscore"),e=a("../../src/table/FieldDescriptor"),f=a("../data/HashMap"),g=a("../../src/data/Vector"),h=a("../data/Set"),i=a("../data/types"),j=a("../data/VectorOperations"),k=function(){function a(b){if(b instanceof a)this._initializeByTable(b);else{if("object"!=typeof b)throw"Couldn't initialize Table with the given parameters!";this._initializeByTableDefinition(b)}}return a.prototype._initializeByTableDefinition=function(a){if(0===a.fields.length)throw"Number of fields can't be zero!";if(this._fields=new h.Set(a.fields),a.fields.length!==this._fields.size())throw"No duplicate field names allowed!";if(a.types){if(a.fields.length!==a.types.length)throw"Number of fields and number of types do not match!";this._types=a.types}else{this._types=[];for(var b=0;b<a.fields.length;++b)this._types.push(i.types.kAny)}if(this._attributeVectors=new f.HashMap,a.columns){if(a.fields.length!==a.columns.length)throw"Number of fields and number of supplied columns do not match!";for(var c=a.columns[0].length,b=0;b<a.fields.length;++b){if(a.columns[b].length!==c)throw"Number of rows in TableDefiniton is not uniform!";var d=new g.Vector(this._types[b],a.columns[b].slice());this._attributeVectors.set(a.fields[b],d)}}else for(var b=0;b<a.fields.length;++b){var d=new g.Vector(this._types[b]);this._attributeVectors.set(a.fields[b],d)}},a.prototype._initializeByTable=function(a){this._initializeByTableDefinition({fields:a.fields(),types:a.types(),columns:a.columns()})},a.prototype.addField=function(a,b,c){b="undefined"==typeof b?i.types.kAny:b,this._fields.add(a),this._types.push(b);for(var d=[],e=0;e<this.size();++e)d.push(null);var f=new g.Vector(b,d);this._attributeVectors.set(a,f)},a.prototype.addRow=function(a){if(a.length>this.numFields())throw"Error when inserting! Row has too many fields!";for(var b=0;b<a.length;++b){if(void 0===a[b])throw"Error when inserting! Can not insert undefined!";if(null===a[b]||""===a[b]&&"string"!==this.types()[b])a[b]=null;else{var c=i.types.convert(a[b],this.types()[b]);if("undefined"==typeof c)throw"Error when inserting! Types don't match!";a[b]=c}}for(var b=0;b<a.length;++b)this.column(this._fields.get(b)).push(a[b]);for(var b=a.length;b<this.numFields();++b)this.column(this._fields.get(b)).push(null)},a.prototype.addRows=function(a){for(var b=0;b<a.length;++b)this.addRow(a[b])},a.prototype.fields=function(){return this._fields.get()},a.prototype.numFields=function(){return this._fields.size()},a.prototype.hasField=function(a){return this._fields.contains(a)},a.prototype.types=function(){return this._types},a.prototype.type=function(a){if(this._fields.contains(a))return this._types[this.getFieldNameIndex(a)];if("$rownr"===a)return i.types.kNumber;throw"Couldn't find column: \""+a+'"!'},a.prototype.empty=function(){return 0===this.size()},a.prototype.size=function(){return this.column(this._fields.get(0)).length},a.prototype.rows=function(){for(var a=[],b=0;b<this.size();++b)a.push(this.row(b));return a},a.prototype.row=function(a){for(var b=[],c=0;c<this.numFields();++c)b.push(this.value(a,this._fields.get(c)));return b},a.prototype.vector=function(a){var b=this.getFieldDescriptor(a);return this._attributeVectors[b.name]},a.prototype.getFieldDescriptor=function(a){if("number"==typeof a){var b=this._fields[a];return new e.FieldDescriptor(b)}return"string"==typeof a?new e.FieldDescriptor(a):a instanceof e.FieldDescriptor?a:void 0},a.prototype.getFieldNameIndex=function(a){var b=this._fields.indexOf(a);if(-1===b)throw'Field "'+a+"\" doesn't exist!";return b},a.prototype.value=function(a,b){return this.column(b)[a]},a.prototype.setValue=function(a,b,c){this.column(b)[a]=c},a.prototype.reserve=function(a){if(0===this.numFields())throw"Can't reserve rows on a table without fields!";for(;this.size()<a;)this.addRow([])},a.prototype.column=function(a){if(this._fields.contains(a))return this._attributeVectors.get(a).getData();if("$rownr"===a)return this._createRowNrColumn();throw"Couldn't find column: \""+a+'"!'},a.prototype.columns=function(){for(var a=[],b=0;b<this._fields.size();++b)a.push(this.column(this._fields.get(b)).slice());return a},a.prototype.detectTypes=function(a){var b=this,c=d.map(this._fields.get(),function(a,c){return j.vec.detectDataType(b._attributeVectors.get(a).getData())});if(a)for(var e=0;e<c.length;++e)this.setType(this._fields.get(e),c[e]);return c},a.prototype.setType=function(a,b){var c=this.getFieldNameIndex(a);if(b!==this._types[c]){this._types[c]=b;var d=this._attributeVectors.get(a),e=j.vec.convertToType(d.getData(),b),f=new g.Vector(b,e);this._attributeVectors.set(a,f)}},a.prototype._createRowNrColumn=function(){for(var a=[],b=0;b<this.size();++b)a.push(b);return a},a}();c.CoreColumnTable=k},{"../../src/data/Vector":5,"../../src/table/FieldDescriptor":17,"../data/HashMap":2,"../data/Set":4,"../data/VectorOperations":6,"../data/types":8,underscore:21}],17:[function(a,b,c){"use strict";var d=function(){function a(a,b){"string"==typeof a?(this.isStatic=!0,this.name=a,b?this.outputName=b:this.outputName=a):(this.isStatic=!1,this.fn=a,this.outputName=b)}return a.prototype.getValue=function(a,b){if(this.isStatic)return a.value(b,this.name);var c=a.row(b);c.get=function(c){return a.value(b,c)};var d=this.fn(c);return d},a.prototype.getValueFromRow=function(a,b){if(this.isStatic){var c=a.getFieldNameIndex(this.name);return b[c]}b.get=function(c){var d=a.getFieldNameIndex(c);return b[d]};var d=this.fn(b);return d},a}();c.FieldDescriptor=d},{}],18:[function(a,b,c){"use strict";var d=a("./AnalyticsTable");c.AnalyticsTable=d.AnalyticsTable;var e=a("./CoreColumnTable");c.CoreColumnTable=e.CoreColumnTable;var f=a("./FieldDescriptor");c.FieldDescriptor=f.FieldDescriptor},{"./AnalyticsTable":15,"./CoreColumnTable":16,"./FieldDescriptor":17}],19:[function(a,b,c){"use strict";var d;!function(a){function b(a,b){var c=function(b,c){for(var d=0,e=c.getFieldNameIndex(a),f=0;f<b.length;++f)d+=b[f][e];return d};return b?c.aggName=b:c.aggName="SUM("+a+")",c}function c(a,b){var c=function(b,c){for(var d=0,e=c.getFieldNameIndex(a),f=0;f<b.length;++f)d+=b[f][e];return d/b.length};return b?c.aggName=b:c.aggName="AVG("+a+")",c}function d(a,b){var c=function(b,c){var d=c.getFieldNameIndex(a);return b[0][d]};return b?c.aggName=b:c.aggName="AVG("+a+")",c}a.sum=b,a.avg=c,a.first=d}(d=c.agg||(c.agg={}))},{}],20:[function(b,c,d){!function(b){"use strict";function d(a,c){if(c=c||{},c.worker&&A.WORKERS_SUPPORTED){var d=m();return d.userStep=c.step,d.userChunk=c.chunk,d.userComplete=c.complete,d.userError=c.error,c.step=t(c.step),c.chunk=t(c.chunk),c.complete=t(c.complete),c.error=t(c.error),delete c.worker,void d.postMessage({input:a,config:c,workerId:d.id})}var e=null;return"string"==typeof a?e=c.download?new g(c):new i(c):(b.File&&a instanceof File||a instanceof Object)&&(e=new h(c)),e.stream(a)}function e(a,b){function c(){"object"==typeof b&&("string"==typeof b.delimiter&&1==b.delimiter.length&&-1==A.BAD_DELIMITERS.indexOf(b.delimiter)&&(i=b.delimiter),("boolean"==typeof b.quotes||b.quotes instanceof Array)&&(h=b.quotes),"string"==typeof b.newline&&(j=b.newline))}function d(a){if("object"!=typeof a)return[];var b=[];for(var c in a)b.push(c);return b}function e(a,b){var c="";"string"==typeof a&&(a=JSON.parse(a)),"string"==typeof b&&(b=JSON.parse(b));var d=a instanceof Array&&a.length>0,e=!(b[0]instanceof Array);if(d){for(var g=0;g<a.length;g++)g>0&&(c+=i),c+=f(a[g],g);b.length>0&&(c+=j)}for(var h=0;h<b.length;h++){for(var k=d?a.length:b[h].length,l=0;k>l;l++){l>0&&(c+=i);var m=d&&e?a[l]:l;c+=f(b[h][m],l)}h<b.length-1&&(c+=j)}return c}function f(a,b){if("undefined"==typeof a||null===a)return"";a=a.toString().replace(/"/g,'""');var c="boolean"==typeof h&&h||h instanceof Array&&h[b]||g(a,A.BAD_DELIMITERS)||a.indexOf(i)>-1||" "==a.charAt(0)||" "==a.charAt(a.length-1);return c?'"'+a+'"':a}function g(a,b){for(var c=0;c<b.length;c++)if(a.indexOf(b[c])>-1)return!0;return!1}var h=!1,i=",",j="\r\n";if(c(),"string"==typeof a&&(a=JSON.parse(a)),a instanceof Array){if(!a.length||a[0]instanceof Array)return e(null,a);if("object"==typeof a[0])return e(d(a[0]),a)}else if("object"==typeof a)return"string"==typeof a.data&&(a.data=JSON.parse(a.data)),a.data instanceof Array&&(a.fields||(a.fields=a.data[0]instanceof Array?a.fields:d(a.data[0])),a.data[0]instanceof Array||"object"==typeof a.data[0]||(a.data=[a.data])),e(a.fields||[],a.data||[]);throw"exception: Unable to serialize unrecognized input"}function f(a){function c(a){var b=r(a);b.chunkSize=parseInt(b.chunkSize),a.step||a.chunk||(b.chunkSize=null),this._handle=new j(b),this._handle.streamer=this,this._config=b}this._handle=null,this._paused=!1,this._finished=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},c.call(this,a),this.parseChunk=function(a){if(this.isFirstChunk&&t(this._config.beforeFirstChunk)){var c=this._config.beforeFirstChunk(a);void 0!==c&&(a=c)}this.isFirstChunk=!1;var d=this._partialLine+a;this._partialLine="";var e=this._handle.parse(d,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var f=e.meta.cursor;this._finished||(this._partialLine=d.substring(f-this._baseIndex),this._baseIndex=f),e&&e.data&&(this._rowCount+=e.data.length);var g=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(w)b.postMessage({results:e,workerId:A.WORKER_ID,finished:g});else if(t(this._config.chunk)){if(this._config.chunk(e,this._handle),this._paused)return;e=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(e.data),this._completeResults.errors=this._completeResults.errors.concat(e.errors),this._completeResults.meta=e.meta),!g||!t(this._config.complete)||e&&e.meta.aborted||this._config.complete(this._completeResults),g||e&&e.meta.paused||this._nextChunk(),e}},this._sendError=function(a){t(this._config.error)?this._config.error(a):w&&this._config.error&&b.postMessage({workerId:A.WORKER_ID,error:a,finished:!1})}}function g(a){function b(a){var b=a.getResponseHeader("Content-Range");return parseInt(b.substr(b.lastIndexOf("/")+1))}a=a||{},a.chunkSize||(a.chunkSize=A.RemoteChunkSize),f.call(this,a);var c;v?this._nextChunk=function(){this._readChunk(),this._chunkLoaded()}:this._nextChunk=function(){this._readChunk()},this.stream=function(a){this._input=a,this._nextChunk()},this._readChunk=function(){if(this._finished)return void this._chunkLoaded();if(c=new XMLHttpRequest,v||(c.onload=s(this._chunkLoaded,this),c.onerror=s(this._chunkError,this)),c.open("GET",this._input,!v),this._config.chunkSize){var a=this._start+this._config.chunkSize-1;c.setRequestHeader("Range","bytes="+this._start+"-"+a),c.setRequestHeader("If-None-Match","webkit-no-cache")}try{c.send()}catch(b){this._chunkError(b.message)}v&&0==c.status?this._chunkError():this._start+=this._config.chunkSize},this._chunkLoaded=function(){if(4==c.readyState){if(c.status<200||c.status>=400)return void this._chunkError();this._finished=!this._config.chunkSize||this._start>b(c),this.parseChunk(c.responseText)}},this._chunkError=function(a){var b=c.statusText||a;this._sendError(b)}}function h(a){a=a||{},a.chunkSize||(a.chunkSize=A.LocalChunkSize),f.call(this,a);var b,c,d="undefined"!=typeof FileReader;this.stream=function(a){this._input=a,c=a.slice||a.webkitSlice||a.mozSlice,d?(b=new FileReader,b.onload=s(this._chunkLoaded,this),b.onerror=s(this._chunkError,this)):b=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var a=this._input;if(this._config.chunkSize){var e=Math.min(this._start+this._config.chunkSize,this._input.size);a=c.call(a,this._start,e)}var f=b.readAsText(a,this._config.encoding);d||this._chunkLoaded({target:{result:f}})},this._chunkLoaded=function(a){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(a.target.result)},this._chunkError=function(){this._sendError(b.error)}}function i(a){a=a||{},f.call(this,a);var b,c;this.stream=function(a){return b=a,c=a,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var a=this._config.chunkSize,b=a?c.substr(0,a):c;return c=a?c.substr(a):"",this._finished=!c,this.parseChunk(b)}}}function j(a){function b(){if(v&&m&&(i("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+A.DefaultDelimiter+"'"),m=!1),a.skipEmptyLines)for(var b=0;b<v.data.length;b++)1==v.data[b].length&&""==v.data[b][0]&&v.data.splice(b--,1);return c()&&d(),e()}function c(){return a.header&&0==u.length}function d(){if(v){for(var a=0;c()&&a<v.data.length;a++)for(var b=0;b<v.data[a].length;b++)u.push(v.data[a][b]);v.data.splice(0,1)}}function e(){if(!v||!a.header&&!a.dynamicTyping)return v;for(var b=0;b<v.data.length;b++){for(var c={},d=0;d<v.data[b].length;d++){if(a.dynamicTyping){var e=v.data[b][d];"true"==e||"TRUE"==e?v.data[b][d]=!0:"false"==e||"FALSE"==e?v.data[b][d]=!1:v.data[b][d]=h(e)}a.header&&(d>=u.length?(c.__parsed_extra||(c.__parsed_extra=[]),c.__parsed_extra.push(v.data[b][d])):c[u[d]]=v.data[b][d])}a.header&&(v.data[b]=c,d>u.length?i("FieldMismatch","TooManyFields","Too many fields: expected "+u.length+" fields but parsed "+d,b):d<u.length&&i("FieldMismatch","TooFewFields","Too few fields: expected "+u.length+" fields but parsed "+d,b))}return a.header&&v.meta&&(v.meta.fields=u),v}function f(b){for(var c,d,e,f=[",","	","|",";",A.RECORD_SEP,A.UNIT_SEP],g=0;g<f.length;g++){var h=f[g],i=0,j=0;e=void 0;for(var l=new k({delimiter:h,preview:10}).parse(b),m=0;m<l.data.length;m++){var n=l.data[m].length;j+=n,"undefined"!=typeof e?n>1&&(i+=Math.abs(n-e),e=n):e=n}l.data.length>0&&(j/=l.data.length),("undefined"==typeof d||d>i)&&j>1.99&&(d=i,c=h)}return a.delimiter=c,{successful:!!c,bestDelimiter:c}}function g(a){a=a.substr(0,1048576);var b=a.split("\r");if(1==b.length)return"\n";for(var c=0,d=0;d<b.length;d++)"\n"==b[d][0]&&c++;return c>=b.length/2?"\r\n":"\r"}function h(a){var b=n.test(a);return b?parseFloat(a):a}function i(a,b,c,d){v.errors.push({type:a,code:b,message:c,row:d})}var j,l,m,n=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,o=this,p=0,q=!1,s=!1,u=[],v={data:[],errors:[],meta:{}};if(t(a.step)){var w=a.step;a.step=function(d){if(v=d,c())b();else{if(b(),0==v.data.length)return;p+=d.data.length,a.preview&&p>a.preview?l.abort():w(v,o)}}}this.parse=function(c,d,e){if(a.newline||(a.newline=g(c)),m=!1,!a.delimiter){var h=f(c);h.successful?a.delimiter=h.bestDelimiter:(m=!0,a.delimiter=A.DefaultDelimiter),v.meta.delimiter=a.delimiter}var i=r(a);return a.preview&&a.header&&i.preview++,j=c,l=new k(i),v=l.parse(j,d,e),b(),q?{meta:{paused:!0}}:v||{meta:{paused:!1}}},this.paused=function(){return q},this.pause=function(){q=!0,l.abort(),j=j.substr(l.getCharIndex())},this.resume=function(){q=!1,o.streamer.parseChunk(j)},this.aborted=function(){return s},this.abort=function(){s=!0,l.abort(),v.meta.aborted=!0,t(a.complete)&&a.complete(v),j=""}}function k(a){a=a||{};var b=a.delimiter,c=a.newline,d=a.comments,e=a.step,f=a.preview,g=a.fastMode;if(("string"!=typeof b||A.BAD_DELIMITERS.indexOf(b)>-1)&&(b=","),d===b)throw"Comment character same as delimiter";d===!0?d="#":("string"!=typeof d||A.BAD_DELIMITERS.indexOf(d)>-1)&&(d=!1),"\n"!=c&&"\r"!=c&&"\r\n"!=c&&(c="\n");var h=0,i=!1;this.parse=function(a,j,k){function l(a){v.push(a),y=h}function m(b){return k?o():("undefined"==typeof b&&(b=a.substr(h)),x.push(b),h=q,l(x),u&&p(),o())}function n(b){h=b,l(x),x=[],C=a.indexOf(c,h)}function o(a){return{data:v,errors:w,meta:{delimiter:b,linebreak:c,aborted:i,truncated:!!a,cursor:y+(j||0)}}}function p(){e(o()),v=[],w=[]}if("string"!=typeof a)throw"Input must be a string";var q=a.length,r=b.length,s=c.length,t=d.length,u="function"==typeof e;h=0;var v=[],w=[],x=[],y=0;if(!a)return o();if(g||g!==!1&&-1===a.indexOf('"')){for(var z=a.split(c),A=0;A<z.length;A++){var x=z[A];if(h+=x.length,A!==z.length-1)h+=c.length;else if(k)return o();if(!d||x.substr(0,t)!=d){if(u){if(v=[],l(x.split(b)),p(),i)return o()}else l(x.split(b));if(f&&A>=f)return v=v.slice(0,f),o(!0)}}return o()}for(var B=a.indexOf(b,h),C=a.indexOf(c,h);;)if('"'!=a[h])if(d&&0===x.length&&a.substr(h,t)===d){if(-1==C)return o();h=C+s,C=a.indexOf(c,h),B=a.indexOf(b,h)}else if(-1!==B&&(C>B||-1===C))x.push(a.substring(h,B)),
h=B+r,B=a.indexOf(b,h);else{if(-1===C)break;if(x.push(a.substring(h,C)),n(C+s),u&&(p(),i))return o();if(f&&v.length>=f)return o(!0)}else{var D=h;for(h++;;){var D=a.indexOf('"',D+1);if(-1===D)return k||w.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:v.length,index:h}),m();if(D===q-1){var E=a.substring(h,D).replace(/""/g,'"');return m(E)}if('"'!=a[D+1]){if(a[D+1]==b){x.push(a.substring(h,D).replace(/""/g,'"')),h=D+1+r,B=a.indexOf(b,h),C=a.indexOf(c,h);break}if(a.substr(D+1,s)===c){if(x.push(a.substring(h,D).replace(/""/g,'"')),n(D+1+s),B=a.indexOf(b,h),u&&(p(),i))return o();if(f&&v.length>=f)return o(!0);break}}else D++}}return m()},this.abort=function(){i=!0},this.getCharIndex=function(){return h}}function l(){var a=document.getElementsByTagName("script");return a.length?a[a.length-1].src:""}function m(){if(!A.WORKERS_SUPPORTED)return!1;if(!x&&null===A.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var a=A.SCRIPT_PATH||u;a+=(-1!==a.indexOf("?")?"&":"?")+"papaworker";var c=new b.Worker(a);return c.onmessage=n,c.id=z++,y[c.id]=c,c}function n(a){var b=a.data,c=y[b.workerId],d=!1;if(b.error)c.userError(b.error,b.file);else if(b.results&&b.results.data){var e=function(){d=!0,o(b.workerId,{data:[],errors:[],meta:{aborted:!0}})},f={abort:e,pause:p,resume:p};if(t(c.userStep)){for(var g=0;g<b.results.data.length&&(c.userStep({data:[b.results.data[g]],errors:b.results.errors,meta:b.results.meta},f),!d);g++);delete b.results}else t(c.userChunk)&&(c.userChunk(b.results,f,b.file),delete b.results)}b.finished&&!d&&o(b.workerId,b.results)}function o(a,b){var c=y[a];t(c.userComplete)&&c.userComplete(b),c.terminate(),delete y[a]}function p(){throw"Not implemented."}function q(a){var c=a.data;if("undefined"==typeof A.WORKER_ID&&c&&(A.WORKER_ID=c.workerId),"string"==typeof c.input)b.postMessage({workerId:A.WORKER_ID,results:A.parse(c.input,c.config),finished:!0});else if(b.File&&c.input instanceof File||c.input instanceof Object){var d=A.parse(c.input,c.config);d&&b.postMessage({workerId:A.WORKER_ID,results:d,finished:!0})}}function r(a){if("object"!=typeof a)return a;var b=a instanceof Array?[]:{};for(var c in a)b[c]=r(a[c]);return b}function s(a,b){return function(){a.apply(b,arguments)}}function t(a){return"function"==typeof a}var u,v=!b.document&&!!b.postMessage,w=v&&/(\?|&)papaworker(=|&|$)/.test(b.location.search),x=!1,y={},z=0,A={};if(A.parse=d,A.unparse=e,A.RECORD_SEP=String.fromCharCode(30),A.UNIT_SEP=String.fromCharCode(31),A.BYTE_ORDER_MARK="\ufeff",A.BAD_DELIMITERS=["\r","\n",'"',A.BYTE_ORDER_MARK],A.WORKERS_SUPPORTED=!v&&!!b.Worker,A.SCRIPT_PATH=null,A.LocalChunkSize=10485760,A.RemoteChunkSize=5242880,A.DefaultDelimiter=",",A.Parser=k,A.ParserHandle=j,A.NetworkStreamer=g,A.FileStreamer=h,A.StringStreamer=i,"undefined"!=typeof c&&c.exports?c.exports=A:t(b.define)&&b.define.amd?a(function(){return A}):b.Papa=A,b.jQuery){var B=b.jQuery;B.fn.parse=function(a){function c(){if(0==g.length)return void(t(a.complete)&&a.complete());var b=g[0];if(t(a.before)){var c=a.before(b.file,b.inputElem);if("object"==typeof c){if("abort"==c.action)return void d("AbortError",b.file,b.inputElem,c.reason);if("skip"==c.action)return void e();"object"==typeof c.config&&(b.instanceConfig=B.extend(b.instanceConfig,c.config))}else if("skip"==c)return void e()}var f=b.instanceConfig.complete;b.instanceConfig.complete=function(a){t(f)&&f(a,b.file,b.inputElem),e()},A.parse(b.file,b.instanceConfig)}function d(b,c,d,e){t(a.error)&&a.error({name:b},c,d,e)}function e(){g.splice(0,1),c()}var f=a.config||{},g=[];return this.each(function(a){var c="INPUT"==B(this).prop("tagName").toUpperCase()&&"file"==B(this).attr("type").toLowerCase()&&b.FileReader;if(!c||!this.files||0==this.files.length)return!0;for(var d=0;d<this.files.length;d++)g.push({file:this.files[d],inputElem:this,instanceConfig:B.extend({},f)})}),c(),this}}w?b.onmessage=q:A.WORKERS_SUPPORTED&&(u=l(),document.body?document.addEventListener("DOMContentLoaded",function(){x=!0},!0):x=!0),g.prototype=Object.create(f.prototype),g.prototype.constructor=g,h.prototype=Object.create(f.prototype),h.prototype.constructor=h,i.prototype=Object.create(i.prototype),i.prototype.constructor=i}("undefined"!=typeof window?window:this)},{}],21:[function(b,c,d){(function(){function b(a){function b(b,c,d,e,f,g){for(;f>=0&&g>f;f+=a){var h=e?e[f]:f;d=c(d,b[h],h,b)}return d}return function(c,d,e,f){d=w(d,f,4);var g=!D(c)&&v.keys(c),h=(g||c).length,i=a>0?0:h-1;return arguments.length<3&&(e=c[g?g[i]:i],i+=a),b(c,d,e,g,i,h)}}function e(a){return function(b,c,d){c=x(c,d);for(var e=C(b),f=a>0?0:e-1;f>=0&&e>f;f+=a)if(c(b[f],f,b))return f;return-1}}function f(a,b,c){return function(d,e,f){var g=0,h=C(d);if("number"==typeof f)a>0?g=f>=0?f:Math.max(f+h,g):h=f>=0?Math.min(f+1,h):f+h+1;else if(c&&f&&h)return f=c(d,e),d[f]===e?f:-1;if(e!==e)return f=b(n.call(d,g,h),v.isNaN),f>=0?f+g:-1;for(f=a>0?g:h-1;f>=0&&h>f;f+=a)if(d[f]===e)return f;return-1}}function g(a,b){var c=I.length,d=a.constructor,e=v.isFunction(d)&&d.prototype||k,f="constructor";for(v.has(a,f)&&!v.contains(b,f)&&b.push(f);c--;)f=I[c],f in a&&a[f]!==e[f]&&!v.contains(b,f)&&b.push(f)}var h=this,i=h._,j=Array.prototype,k=Object.prototype,l=Function.prototype,m=j.push,n=j.slice,o=k.toString,p=k.hasOwnProperty,q=Array.isArray,r=Object.keys,s=l.bind,t=Object.create,u=function(){},v=function(a){return a instanceof v?a:this instanceof v?void(this._wrapped=a):new v(a)};"undefined"!=typeof d?("undefined"!=typeof c&&c.exports&&(d=c.exports=v),d._=v):h._=v,v.VERSION="1.8.3";var w=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}},x=function(a,b,c){return null==a?v.identity:v.isFunction(a)?w(a,b,c):v.isObject(a)?v.matcher(a):v.property(a)};v.iteratee=function(a,b){return x(a,b,1/0)};var y=function(a,b){return function(c){var d=arguments.length;if(2>d||null==c)return c;for(var e=1;d>e;e++)for(var f=arguments[e],g=a(f),h=g.length,i=0;h>i;i++){var j=g[i];b&&void 0!==c[j]||(c[j]=f[j])}return c}},z=function(a){if(!v.isObject(a))return{};if(t)return t(a);u.prototype=a;var b=new u;return u.prototype=null,b},A=function(a){return function(b){return null==b?void 0:b[a]}},B=Math.pow(2,53)-1,C=A("length"),D=function(a){var b=C(a);return"number"==typeof b&&b>=0&&B>=b};v.each=v.forEach=function(a,b,c){b=w(b,c);var d,e;if(D(a))for(d=0,e=a.length;e>d;d++)b(a[d],d,a);else{var f=v.keys(a);for(d=0,e=f.length;e>d;d++)b(a[f[d]],f[d],a)}return a},v.map=v.collect=function(a,b,c){b=x(b,c);for(var d=!D(a)&&v.keys(a),e=(d||a).length,f=Array(e),g=0;e>g;g++){var h=d?d[g]:g;f[g]=b(a[h],h,a)}return f},v.reduce=v.foldl=v.inject=b(1),v.reduceRight=v.foldr=b(-1),v.find=v.detect=function(a,b,c){var d;return d=D(a)?v.findIndex(a,b,c):v.findKey(a,b,c),void 0!==d&&-1!==d?a[d]:void 0},v.filter=v.select=function(a,b,c){var d=[];return b=x(b,c),v.each(a,function(a,c,e){b(a,c,e)&&d.push(a)}),d},v.reject=function(a,b,c){return v.filter(a,v.negate(x(b)),c)},v.every=v.all=function(a,b,c){b=x(b,c);for(var d=!D(a)&&v.keys(a),e=(d||a).length,f=0;e>f;f++){var g=d?d[f]:f;if(!b(a[g],g,a))return!1}return!0},v.some=v.any=function(a,b,c){b=x(b,c);for(var d=!D(a)&&v.keys(a),e=(d||a).length,f=0;e>f;f++){var g=d?d[f]:f;if(b(a[g],g,a))return!0}return!1},v.contains=v.includes=v.include=function(a,b,c,d){return D(a)||(a=v.values(a)),("number"!=typeof c||d)&&(c=0),v.indexOf(a,b,c)>=0},v.invoke=function(a,b){var c=n.call(arguments,2),d=v.isFunction(b);return v.map(a,function(a){var e=d?b:a[b];return null==e?e:e.apply(a,c)})},v.pluck=function(a,b){return v.map(a,v.property(b))},v.where=function(a,b){return v.filter(a,v.matcher(b))},v.findWhere=function(a,b){return v.find(a,v.matcher(b))},v.max=function(a,b,c){var d,e,f=-(1/0),g=-(1/0);if(null==b&&null!=a){a=D(a)?a:v.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],d>f&&(f=d)}else b=x(b,c),v.each(a,function(a,c,d){e=b(a,c,d),(e>g||e===-(1/0)&&f===-(1/0))&&(f=a,g=e)});return f},v.min=function(a,b,c){var d,e,f=1/0,g=1/0;if(null==b&&null!=a){a=D(a)?a:v.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],f>d&&(f=d)}else b=x(b,c),v.each(a,function(a,c,d){e=b(a,c,d),(g>e||e===1/0&&f===1/0)&&(f=a,g=e)});return f},v.shuffle=function(a){for(var b,c=D(a)?a:v.values(a),d=c.length,e=Array(d),f=0;d>f;f++)b=v.random(0,f),b!==f&&(e[f]=e[b]),e[b]=c[f];return e},v.sample=function(a,b,c){return null==b||c?(D(a)||(a=v.values(a)),a[v.random(a.length-1)]):v.shuffle(a).slice(0,Math.max(0,b))},v.sortBy=function(a,b,c){return b=x(b,c),v.pluck(v.map(a,function(a,c,d){return{value:a,index:c,criteria:b(a,c,d)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var E=function(a){return function(b,c,d){var e={};return c=x(c,d),v.each(b,function(d,f){var g=c(d,f,b);a(e,d,g)}),e}};v.groupBy=E(function(a,b,c){v.has(a,c)?a[c].push(b):a[c]=[b]}),v.indexBy=E(function(a,b,c){a[c]=b}),v.countBy=E(function(a,b,c){v.has(a,c)?a[c]++:a[c]=1}),v.toArray=function(a){return a?v.isArray(a)?n.call(a):D(a)?v.map(a,v.identity):v.values(a):[]},v.size=function(a){return null==a?0:D(a)?a.length:v.keys(a).length},v.partition=function(a,b,c){b=x(b,c);var d=[],e=[];return v.each(a,function(a,c,f){(b(a,c,f)?d:e).push(a)}),[d,e]},v.first=v.head=v.take=function(a,b,c){return null!=a?null==b||c?a[0]:v.initial(a,a.length-b):void 0},v.initial=function(a,b,c){return n.call(a,0,Math.max(0,a.length-(null==b||c?1:b)))},v.last=function(a,b,c){return null!=a?null==b||c?a[a.length-1]:v.rest(a,Math.max(0,a.length-b)):void 0},v.rest=v.tail=v.drop=function(a,b,c){return n.call(a,null==b||c?1:b)},v.compact=function(a){return v.filter(a,v.identity)};var F=function(a,b,c,d){for(var e=[],f=0,g=d||0,h=C(a);h>g;g++){var i=a[g];if(D(i)&&(v.isArray(i)||v.isArguments(i))){b||(i=F(i,b,c));var j=0,k=i.length;for(e.length+=k;k>j;)e[f++]=i[j++]}else c||(e[f++]=i)}return e};v.flatten=function(a,b){return F(a,b,!1)},v.without=function(a){return v.difference(a,n.call(arguments,1))},v.uniq=v.unique=function(a,b,c,d){v.isBoolean(b)||(d=c,c=b,b=!1),null!=c&&(c=x(c,d));for(var e=[],f=[],g=0,h=C(a);h>g;g++){var i=a[g],j=c?c(i,g,a):i;b?(g&&f===j||e.push(i),f=j):c?v.contains(f,j)||(f.push(j),e.push(i)):v.contains(e,i)||e.push(i)}return e},v.union=function(){return v.uniq(F(arguments,!0,!0))},v.intersection=function(a){for(var b=[],c=arguments.length,d=0,e=C(a);e>d;d++){var f=a[d];if(!v.contains(b,f)){for(var g=1;c>g&&v.contains(arguments[g],f);g++);g===c&&b.push(f)}}return b},v.difference=function(a){var b=F(arguments,!0,!0,1);return v.filter(a,function(a){return!v.contains(b,a)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(a){for(var b=a&&v.max(a,C).length||0,c=Array(b),d=0;b>d;d++)c[d]=v.pluck(a,d);return c},v.object=function(a,b){for(var c={},d=0,e=C(a);e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},v.findIndex=e(1),v.findLastIndex=e(-1),v.sortedIndex=function(a,b,c,d){c=x(c,d,1);for(var e=c(b),f=0,g=C(a);g>f;){var h=Math.floor((f+g)/2);c(a[h])<e?f=h+1:g=h}return f},v.indexOf=f(1,v.findIndex,v.sortedIndex),v.lastIndexOf=f(-1,v.findLastIndex),v.range=function(a,b,c){null==b&&(b=a||0,a=0),c=c||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=Array(d),f=0;d>f;f++,a+=c)e[f]=a;return e};var G=function(a,b,c,d,e){if(!(d instanceof b))return a.apply(c,e);var f=z(a.prototype),g=a.apply(f,e);return v.isObject(g)?g:f};v.bind=function(a,b){if(s&&a.bind===s)return s.apply(a,n.call(arguments,1));if(!v.isFunction(a))throw new TypeError("Bind must be called on a function");var c=n.call(arguments,2),d=function(){return G(a,d,b,this,c.concat(n.call(arguments)))};return d},v.partial=function(a){var b=n.call(arguments,1),c=function(){for(var d=0,e=b.length,f=Array(e),g=0;e>g;g++)f[g]=b[g]===v?arguments[d++]:b[g];for(;d<arguments.length;)f.push(arguments[d++]);return G(a,c,this,this,f)};return c},v.bindAll=function(a){var b,c,d=arguments.length;if(1>=d)throw new Error("bindAll must be passed function names");for(b=1;d>b;b++)c=arguments[b],a[c]=v.bind(a[c],a);return a},v.memoize=function(a,b){var c=function(d){var e=c.cache,f=""+(b?b.apply(this,arguments):d);return v.has(e,f)||(e[f]=a.apply(this,arguments)),e[f]};return c.cache={},c},v.delay=function(a,b){var c=n.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},v.defer=v.partial(v.delay,v,1),v.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:v.now(),g=null,f=a.apply(d,e),g||(d=e=null)};return function(){var j=v.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k||k>b?(g&&(clearTimeout(g),g=null),h=j,f=a.apply(d,e),g||(d=e=null)):g||c.trailing===!1||(g=setTimeout(i,k)),f}},v.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=v.now()-g;b>j&&j>=0?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),d||(f=e=null)))};return function(){f=this,e=arguments,g=v.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},v.wrap=function(a,b){return v.partial(b,a)},v.negate=function(a){return function(){return!a.apply(this,arguments)}},v.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,d=a[b].apply(this,arguments);c--;)d=a[c].call(this,d);return d}},v.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},v.before=function(a,b){var c;return function(){return--a>0&&(c=b.apply(this,arguments)),1>=a&&(b=null),c}},v.once=v.partial(v.before,2);var H=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];v.keys=function(a){if(!v.isObject(a))return[];if(r)return r(a);var b=[];for(var c in a)v.has(a,c)&&b.push(c);return H&&g(a,b),b},v.allKeys=function(a){if(!v.isObject(a))return[];var b=[];for(var c in a)b.push(c);return H&&g(a,b),b},v.values=function(a){for(var b=v.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},v.mapObject=function(a,b,c){b=x(b,c);for(var d,e=v.keys(a),f=e.length,g={},h=0;f>h;h++)d=e[h],g[d]=b(a[d],d,a);return g},v.pairs=function(a){for(var b=v.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},v.invert=function(a){for(var b={},c=v.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},v.functions=v.methods=function(a){var b=[];for(var c in a)v.isFunction(a[c])&&b.push(c);return b.sort()},v.extend=y(v.allKeys),v.extendOwn=v.assign=y(v.keys),v.findKey=function(a,b,c){b=x(b,c);for(var d,e=v.keys(a),f=0,g=e.length;g>f;f++)if(d=e[f],b(a[d],d,a))return d},v.pick=function(a,b,c){var d,e,f={},g=a;if(null==g)return f;v.isFunction(b)?(e=v.allKeys(g),d=w(b,c)):(e=F(arguments,!1,!1,1),d=function(a,b,c){return b in c},g=Object(g));for(var h=0,i=e.length;i>h;h++){var j=e[h],k=g[j];d(k,j,g)&&(f[j]=k)}return f},v.omit=function(a,b,c){if(v.isFunction(b))b=v.negate(b);else{var d=v.map(F(arguments,!1,!1,1),String);b=function(a,b){return!v.contains(d,b)}}return v.pick(a,b,c)},v.defaults=y(v.allKeys,!0),v.create=function(a,b){var c=z(a);return b&&v.extendOwn(c,b),c},v.clone=function(a){return v.isObject(a)?v.isArray(a)?a.slice():v.extend({},a):a},v.tap=function(a,b){return b(a),a},v.isMatch=function(a,b){var c=v.keys(b),d=c.length;if(null==a)return!d;for(var e=Object(a),f=0;d>f;f++){var g=c[f];if(b[g]!==e[g]||!(g in e))return!1}return!0};var J=function(a,b,c,d){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return a===b;a instanceof v&&(a=a._wrapped),b instanceof v&&(b=b._wrapped);var e=o.call(a);if(e!==o.call(b))return!1;switch(e){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return+a!==+a?+b!==+b:0===+a?1/+a===1/b:+a===+b;case"[object Date]":case"[object Boolean]":return+a===+b}var f="[object Array]"===e;if(!f){if("object"!=typeof a||"object"!=typeof b)return!1;var g=a.constructor,h=b.constructor;if(g!==h&&!(v.isFunction(g)&&g instanceof g&&v.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in b)return!1}c=c||[],d=d||[];for(var i=c.length;i--;)if(c[i]===a)return d[i]===b;if(c.push(a),d.push(b),f){if(i=a.length,i!==b.length)return!1;for(;i--;)if(!J(a[i],b[i],c,d))return!1}else{var j,k=v.keys(a);if(i=k.length,v.keys(b).length!==i)return!1;for(;i--;)if(j=k[i],!v.has(b,j)||!J(a[j],b[j],c,d))return!1}return c.pop(),d.pop(),!0};v.isEqual=function(a,b){return J(a,b)},v.isEmpty=function(a){return null==a?!0:D(a)&&(v.isArray(a)||v.isString(a)||v.isArguments(a))?0===a.length:0===v.keys(a).length},v.isElement=function(a){return!(!a||1!==a.nodeType)},v.isArray=q||function(a){return"[object Array]"===o.call(a)},v.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(a){v["is"+a]=function(b){return o.call(b)==="[object "+a+"]"}}),v.isArguments(arguments)||(v.isArguments=function(a){return v.has(a,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(v.isFunction=function(a){return"function"==typeof a||!1}),v.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},v.isNaN=function(a){return v.isNumber(a)&&a!==+a},v.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"===o.call(a)},v.isNull=function(a){return null===a},v.isUndefined=function(a){return void 0===a},v.has=function(a,b){return null!=a&&p.call(a,b)},v.noConflict=function(){return h._=i,this},v.identity=function(a){return a},v.constant=function(a){return function(){return a}},v.noop=function(){},v.property=A,v.propertyOf=function(a){return null==a?function(){}:function(b){return a[b]}},v.matcher=v.matches=function(a){return a=v.extendOwn({},a),function(b){return v.isMatch(b,a)}},v.times=function(a,b,c){var d=Array(Math.max(0,a));b=w(b,c,1);for(var e=0;a>e;e++)d[e]=b(e);return d},v.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},v.now=Date.now||function(){return(new Date).getTime()};var K={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},L=v.invert(K),M=function(a){var b=function(b){return a[b]},c="(?:"+v.keys(a).join("|")+")",d=RegExp(c),e=RegExp(c,"g");return function(a){return a=null==a?"":""+a,d.test(a)?a.replace(e,b):a}};v.escape=M(K),v.unescape=M(L),v.result=function(a,b,c){var d=null==a?void 0:a[b];return void 0===d&&(d=c),v.isFunction(d)?d.call(a):d};var N=0;v.uniqueId=function(a){var b=++N+"";return a?a+b:b},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var O=/(.)^/,P={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Q=/\\|'|\r|\n|\u2028|\u2029/g,R=function(a){return"\\"+P[a]};v.template=function(a,b,c){!b&&c&&(b=c),b=v.defaults({},b,v.templateSettings);var d=RegExp([(b.escape||O).source,(b.interpolate||O).source,(b.evaluate||O).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){return f+=a.slice(e,h).replace(Q,R),e=h+b.length,c?f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?f+="'+\n((__t=("+d+"))==null?'':__t)+\n'":g&&(f+="';\n"+g+"\n__p+='"),b}),f+="';\n",b.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=new Function(b.variable||"obj","_",f)}catch(h){throw h.source=f,h}var i=function(a){return g.call(this,a,v)},j=b.variable||"obj";return i.source="function("+j+"){\n"+f+"}",i},v.chain=function(a){var b=v(a);return b._chain=!0,b};var S=function(a,b){return a._chain?v(b).chain():b};v.mixin=function(a){v.each(v.functions(a),function(b){var c=v[b]=a[b];v.prototype[b]=function(){var a=[this._wrapped];return m.apply(a,arguments),S(this,c.apply(v,a))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=j[a];v.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!==a&&"splice"!==a||0!==c.length||delete c[0],S(this,c)}}),v.each(["concat","join","slice"],function(a){var b=j[a];v.prototype[a]=function(){return S(this,b.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},"function"==typeof a&&a.amd&&a("underscore",[],function(){return v})}).call(this)},{}]},{},[1])(1)});